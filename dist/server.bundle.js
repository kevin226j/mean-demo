!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=10)}([function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("dotenv")},function(e,t,n){"use strict";var r=n(6);n(23);e.exports={passportSignIn:function(e,t,n){r.authenticate("local",{session:!1},function(r,o){e.logIn(o,function(){if(r)return n(r);o?n():t.send({error:"Unauthorized"})})})(e,t,n)},passportJWT:r.authenticate("jwt",{session:!1})}},function(e,t,n){"use strict";var r=n(5),o=n(20),s=n(21),u=n(22);e.exports={SuccessResponse:r.SuccessResponse,ErrorResponse:o.ErrorResponse,ItemResponse:s.ItemResponse,ItemsResponse:u.ItemsResponse}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuccessResponse=void 0;var r=n(7);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.SuccessResponse=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,u(t).call(this))).isSuccessful=!0,e.alert.type="success",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,r.BaseResponse),t}()},function(e,t){e.exports=require("passport")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseResponse=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSuccessful=!1,this.alert={message:null,type:null}}},function(e,t){e.exports=require("passport-jwt")},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));function o(e,t,n,r,o,s,u){try{var i=e[s](u),a=i.value}catch(e){return void n(e)}i.done?t(a):Promise.resolve(a).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var u=e.apply(t,n);function i(e){o(u,r,s,i,a,"next",e)}function a(e){o(u,r,s,i,a,"throw",e)}i(void 0)})}}var u=n(25),i=new(0,r.default.Schema)({method:{type:String,enum:["local","google"],required:!0},local:{email:{type:String,lowercase:!0},password:{type:String}},google:{id:{type:String},email:{type:String,lowercase:!0}}});i.pre("save",function(){var e=s(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"local"!==this.method&&t(),e.next=4,u.genSalt(10);case 4:return n=e.sent,e.next=7,u.hash(this.local.password,n);case 7:r=e.sent,this.local.password=r,t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()),i.methods.isValidPassword=function(){var e=s(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.compare(t,this.local.password);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();var a=r.default.model("user",i,"users");e.exports=a},function(e,t,n){n(11),e.exports=n(12)},function(e,t){e.exports=require("babel-polyfill")},function(e,t,n){"use strict";var r=c(n(1)),o=c(n(13)),s=c(n(0)),u=c(n(14)),i=(c(n(2)),c(n(15))),a=c(n(16));function c(e){return e&&e.__esModule?e:{default:e}}var f=n(45),p=(0,r.default)(),l=n(46),d=n(47),y=n(6),m=process.env.PORT||8080;p.use(r.default.static(l.join(__dirname,"/../","dist/public"))),s.default.Promise=global.Promise,s.default.connect(f.atlasURL,{useNewUrlParser:!0,dbName:"demo"}),s.default.connection.once("open",function(){console.log("DB connected")}),p.use((0,i.default)("dev")),p.use(r.default.static(l.join(__dirname,"/../","dist/public"))),p.use(o.default.urlencoded({extended:!0})),p.use(o.default.json()),p.use(y.initialize()),p.use(y.session()),y.serializeUser(function(e,t){t(null,e)}),y.deserializeUser(function(e,t){t(null,e)}),p.use((0,u.default)()),p.use(function(e,t,n){t.header("Access-Control-Allow-Origin","*"),t.header("Access-Control-Allow-Methods","GET, PUT, POST, DELETE, OPTIONS"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept, Authorization"),n()}),p.use(a.default),p.get("/*",function(e,t){t.sendFile(l.join(__dirname,"..","dist","public","index.html"))}),d.createServer(p).listen(m,function(){console.log("server running on port: ".concat(m))})},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("morgan")},function(e,t,n){"use strict";var r=n(1).Router(),o=n(17),s=n(26),u=n(29),i=n(36),a=n(42);r.use("/api/albums",o),r.use("/api/photos",s),r.use("/api/aws",u),r.use("/api/tags",a),r.use("/api/login",i),e.exports=r},function(e,t,n){"use strict";var r=n(1).Router(),o=n(18),s=n(3);r.route("/").get(s.passportJWT,o.readAll).post(s.passportJWT,o.create),r.route("/:id").get(o.readById).put(s.passportJWT,o.update).delete(s.passportJWT,o.deleteById),r.route("/album/:category").get(s.passportJWT,o.readByCategory),r.route("/album/:category?/:name?").get(s.passportJWT,o.readByName),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readByName=t.readByCategory=t.deleteById=t.update=t.create=t.readById=t.readAll=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(19);var s=n(4),u=r.default.model("Album",o.AlbumModel,"albums");t.readAll=function(e,t,n){u.find({}).exec().then(function(e){return t.json(new s.ItemsResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.readById=function(e,t,n){u.findById({_id:e.params.id}).exec().then(function(e){return t.json(new s.ItemResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.create=function(e,t,n){u(e.body).save().then(function(e){return t.json(new s.ItemResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.update=function(e,t,n){u.findOneAndUpdate({_id:e.params.id},e.body,{new:!0}).exec().then(function(e){return t.json(new s.SuccessResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.deleteById=function(e,t,n){u.findOneAndDelete({_id:e.params.id}).then(function(e){return t.json({message:"successfully deleted"})}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.readByCategory=function(e,t,n){u.find({category:e.params.category}).exec().then(function(e){return t.json(new s.ItemsResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.readByName=function(e,t,n){u.findOne({name:e.params.name,category:e.params.category}).exec().then(function(e){return t.json(new s.ItemResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlbumModel=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)).default.Schema;t.AlbumModel=new r({name:{type:String,required:!0},image:{type:String,required:!1},total:{type:Number,required:!1},description:{type:String,required:!0},tag:{type:String,required:!0},category:{type:String,required:!0}},{timestamps:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var r=n(7);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.ErrorResponse=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,u(t).call(this))).isSuccessful=!1,n.errors=e,n.alert.type="danger",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,r.BaseResponse),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItemResponse=void 0;var r=n(5);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.ItemResponse=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,u(t).call(this))).item=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,r.SuccessResponse),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItemsResponse=void 0;var r=n(5);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.ItemsResponse=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,u(t).call(this))).items=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,r.SuccessResponse),t}()},function(e,t,n){"use strict";function r(e,t,n,r,o,s,u){try{var i=e[s](u),a=i.value}catch(e){return void n(e)}i.done?t(a):Promise.resolve(a).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,s){var u=e.apply(t,n);function i(e){r(u,o,s,i,a,"next",e)}function a(e){r(u,o,s,i,a,"throw",e)}i(void 0)})}}var s=n(6),u=n(8).Strategy,i=n(8).ExtractJwt,a=n(24).Strategy,c=n(9);n(2).config(),s.use(new u({jwtFromRequest:i.fromAuthHeaderAsBearerToken("Authorization"),secretOrKey:process.env.JWT_SECRET},function(){var e=o(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.exp<Date.now())){e.next=3;break}return e.abrupt("return",n(null,!1,{message:"token expired"}));case 3:if(r=c.findById(t.sub)){e.next=6;break}return e.abrupt("return",n(null,!1));case 6:return e.abrupt("return",n(null,r));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",n(e.t0,!1));case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}())),s.use(new a({usernameField:"email"},function(){var e=o(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.findOne({"local.email":t});case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",r(null,!1,{message:"error"}));case 6:return e.next=8,o.isValidPassword(n);case 8:if(e.sent){e.next=11;break}return e.abrupt("return",r(null,!1,{message:"error"}));case 11:return e.abrupt("return",r(null,o));case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",r(e.t0,!1));case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t,n,r){return e.apply(this,arguments)}}()))},function(e,t){e.exports=require("passport-local")},function(e,t){e.exports=require("bcryptjs")},function(e,t,n){"use strict";var r=n(1).Router(),o=n(27),s=n(3);r.route("/").get(s.passportJWT,o.readAll).post(s.passportJWT,o.create),r.route("/:id").get(s.passportJWT,o.readByAlbum).put(s.passportJWT,o.update).delete(s.passportJWT,o.deleteById),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readByAlbum=t.deleteById=t.update=t.create=t.readAll=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(28);var s=n(4),u=r.default.model("Photo",o.PhotoModel,"photos");t.readAll=function(e,t,n){u.find({}).exec().then(function(e){return t.json(new s.ItemsResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.create=function(e,t,n){new u(e.body).save().then(function(e){return t.json(new s.ItemResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.update=function(e,t,n){u.findOneAndUpdate({_id:e.params.id},e.body,{new:!0}).exec().then(function(e){return t.json(new s.SuccessResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.deleteById=function(e,t,n){u.findOneAndDelete({_id:e.params.id}).then(function(e){return t.json({message:"successfully deleted"})}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.readByAlbum=function(e,t,n){u.find({albumName:e.params.id}).exec().then(function(e){return t.json(new s.ItemsResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoModel=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)).default.Schema;t.PhotoModel=new r({albumName:{type:String,required:!0},image:{type:String,required:!0}},{timestamps:!0})},function(e,t,n){"use strict";var r=n(1).Router(),o=n(30),s=n(3);r.route("/").post(s.passportJWT,o.uploadMedia).delete(s.passportJWT,o.deleteMedia),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMedia=t.uploadMedia=void 0;var r=n(31),o=r._upload.single("image");t.uploadMedia=function(e,t){o(e,t,function(n){return n?t.status(422).send({errors:[{title:"File upload error",details:n.message}]}):t.json({key:e.file.key})})},t.deleteMedia=function(e,t){(0,r._delete)(e,t,function(n,r){return n&&t.status(400).send({errors:[{title:"delete error",details:n.message}]}),t.json({key:e.body})})}},function(e,t,n){"use strict";var r=n(32),o=n(33),s=n(34);n(35);n(2).config(),r.config.update({secretAccessKey:process.env.AWS_SECRETKEY,accessKeyId:process.env.AWS_ACCESSKEYID,region:process.env.AWS_REGION});var u=new r.S3;t._upload=o({fileFilter:function(e,t,n){"image/jpeg"===t.mimetype||"image/png"===t.mimetype?n(null,!0):n(new Error("Invalid Mime type, only use JPEG and PNG"),!1)},storage:s({s3:u,bucket:process.env.AWS_BUCKET,acl:"public-read",metadata:function(e,t,n){n(null,{fieldName:"image"})},key:function(e,t,n){n(null,Date.now().toString())}})}),t._delete=function(e,t,n){for(var r=[],o=e.body.items,s=0,i=o.length;s<i;s++)r.push({Key:o[s]});var a={Bucket:process.env.AWS_BUCKET,Delete:{Objects:r}};u.deleteObjects(a,function(e,n){if(e)return t.send({error:e});t.send({data:n})})}},function(e,t){e.exports=require("aws-sdk")},function(e,t){e.exports=require("multer")},function(e,t){e.exports=require("multer-s3")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ResponseHandler=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t?void 0:"DELETE"===r?e.json({message:"Successfully deleted item"}):"PUT"===r?e.json({message:"Successfully updated item"}):e.json(n)}},function(e,t,n){"use strict";var r=n(37),o=r.validateBody,s=r.schemas,u=(n(1),n(39)()),i=n(40),a=n(3);u.route("/").post(o(s.authSchema),a.passportSignIn,i.signIn),e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38);t.validateBody=function(e){return function(t,n,o){var s=r.validate(t.body,e);if(s.error)return n.status(400).json(s.error);t.value||(t.value={}),t.value.body=s.value,o()}},t.schemas={authSchema:r.object().keys({email:r.string().email().required(),password:r.string().required()})}},function(e,t){e.exports=require("joi")},function(e,t){e.exports=require("express-promise-router")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signIn=t.signUp=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(41));function o(e,t,n,r,o,s,u){try{var i=e[s](u),a=i.value}catch(e){return void n(e)}i.done?t(a):Promise.resolve(a).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var u=e.apply(t,n);function i(e){o(u,r,s,i,a,"next",e)}function a(e){o(u,r,s,i,a,"throw",e)}i(void 0)})}}n(2).config();n(4);var u=n(9),i=function(e){return r.default.sign({iss:process.env.JWT_ISS,sub:e.id,iat:(new Date).getTime(),exp:(new Date).setDate((new Date).getDate()+1)},process.env.JWT_SECRET)};t.signUp=function(){var e=s(regeneratorRuntime.mark(function e(t,n,r){var o,s,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.get("Access-Control-Request-Headers")!==process.env.ACRH_CODE){e.next=13;break}return o=t.body,s=o.email,i=o.password,e.next=4,u.findOne({"local.email":s});case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",n.status(403).json({error:"Email already in use"}));case 7:return a=new u({method:"local",local:{email:s,password:i}}),e.next=10,a.save();case 10:n.status(200).json({message:"You are approved"}),e.next=14;break;case 13:return e.abrupt("return",n.status(401).json({error:"Unauthorized Access"}));case 14:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.signIn=function(){var e=s(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=i(t.user),n.status(200).json({token:o,expiresIn:"86400"});case 2:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},function(e,t){e.exports=require("jsonwebtoken")},function(e,t,n){"use strict";var r=n(1).Router(),o=n(43),s=n(3);r.route("/").get(s.passportJWT,o.readAll).post(s.passportJWT,o.create),r.route("/:id").get(s.passportJWT,o.readById).put(s.passportJWT,o.update).delete(s.passportJWT,o.deleteById),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteById=t.update=t.create=t.readById=t.readAll=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(44);var s=n(4),u=r.default.model("Tag",o.TagModel,"tags");t.readAll=function(e,t,n){u.find({}).exec().then(function(e){return t.json(new s.ItemsResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.readById=function(e,t,n){u.findById({_id:e.params.id}).exec().then(function(e){return t.json(new s.ItemResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.create=function(e,t,n){u(e.body).save().then(function(e){return t.json(new s.ItemResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.update=function(e,t,n){u.findOneAndUpdate({_id:e.params.id},e.body,{new:!0}).exec().then(function(e){return t.json(new s.SuccessResponse(e))}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})},t.deleteById=function(e,t,n){u.findOneAndDelete({_id:e.params.id}).then(function(e){return t.json({message:"successfully deleted"})}).catch(function(e){return t.status(500).send(new s.ErrorResponse(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagModel=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)).default.Schema;t.TagModel=new r({tagName:{type:String,required:!0}},{timestamps:!0})},function(e,t,n){"use strict";n(2).config(),e.exports={localURL:"mongodb://localhost:27017/".concat(process.env.LOCAL_DB_NAME),atlasURL:process.env.MONGO_ATLAS_URI}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("http")}]);